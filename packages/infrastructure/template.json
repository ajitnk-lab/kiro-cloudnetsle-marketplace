[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_dynamodb.TableOptions#pointInTimeRecovery is deprecated.
  use `pointInTimeRecoverySpecification` instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_cognito.UserPoolIdentityProviderGoogleProps#clientSecret is deprecated.
  use clientSecretValue instead
  This API will be removed in the next major release.
Description: Marketplace Platform - Main infrastructure stack
Resources:
  DataStackUserTableDAF10CB8:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: email
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: EmailIndex
          KeySchema:
            - AttributeName: email
              KeyType: HASH
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-users-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UserTable/Resource
  DataStackSolutionTable263711A4:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: solutionId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: solutionId
          KeyType: HASH
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-solutions-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/SolutionTable/Resource
  DataStackSessionTable8346BE43:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: sessionId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: sessionId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-sessions-1764183053
      TimeToLiveSpecification:
        AttributeName: expiresAt
        Enabled: true
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/SessionTable/Resource
  DataStackPartnerApplicationTable548221AF:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: applicationId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: applicationId
          KeyType: HASH
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-partner-applications-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PartnerApplicationTable/Resource
  DataStackTokenTable96347A0A:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: tokenId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: tokenId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-tokens-1764183053
      TimeToLiveSpecification:
        AttributeName: expiresAt
        Enabled: true
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/TokenTable/Resource
  DataStackUserSolutionEntitlementsTableA6D19624:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
        - AttributeName: sk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
        - AttributeName: sk
          KeyType: RANGE
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-user-solution-entitlements-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UserSolutionEntitlementsTable/Resource
  DataStackPaymentTransactionsTable7CE3C981:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: transactionId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: transactionId
          KeyType: HASH
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-payment-transactions-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PaymentTransactionsTable/Resource
  DataStackUserSessionsTable8A5C3276:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: sessionId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: sessionId
          KeyType: HASH
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-user-sessions-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UserSessionsTable/Resource
  DataStackApiMetricsTableE799E845:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
        - AttributeName: sk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
        - AttributeName: sk
          KeyType: RANGE
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-api-metrics-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/ApiMetricsTable/Resource
  DataStackSubscriptionHistoryTable85DE92AB:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: timestamp
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: timestamp
          KeyType: RANGE
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-subscription-history-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/SubscriptionHistoryTable/Resource
  DataStackCompanySettingsTable691FA35F:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: settingKey
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: settingKey
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      TableName: marketplace-company-settings-1764183053
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/CompanySettingsTable/Resource
  DataStackAssetsBucketBB720BB4:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: marketplace-assets-1764183053
      CorsConfiguration:
        CorsRules:
          - AllowedHeaders:
              - "*"
            AllowedMethods:
              - GET
              - POST
              - PUT
            AllowedOrigins:
              - "*"
      VersioningConfiguration:
        Status: Enabled
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/AssetsBucket/Resource
  DataStackInvoiceBucket65FDB85F:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: marketplace-invoices-1764183053
      VersioningConfiguration:
        Status: Enabled
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/InvoiceBucket/Resource
  DataStackUserPool5C318670:
    Type: AWS::Cognito::UserPool
    Properties:
      AccountRecoverySetting:
        RecoveryMechanisms:
          - Name: verified_email
            Priority: 1
      AdminCreateUserConfig:
        AllowAdminCreateUserOnly: false
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage: The verification code to your new account is {####}
      EmailVerificationSubject: Verify your new account
      Policies:
        PasswordPolicy:
          MinimumLength: 8
          RequireLowercase: true
          RequireNumbers: true
          RequireSymbols: false
          RequireUppercase: true
      Schema:
        - Mutable: true
          Name: email
          Required: true
        - Mutable: true
          Name: given_name
          Required: true
        - Mutable: true
          Name: family_name
          Required: true
      SmsVerificationMessage: The verification code to your new account is {####}
      UserPoolName: marketplace-users
      UsernameAttributes:
        - email
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_CODE
        EmailMessage: The verification code to your new account is {####}
        EmailSubject: Verify your new account
        SmsMessage: The verification code to your new account is {####}
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UserPool/Resource
  DataStackUserPoolClient098B0ABE:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      AllowedOAuthFlows:
        - implicit
        - code
      AllowedOAuthFlowsUserPoolClient: true
      AllowedOAuthScopes:
        - profile
        - phone
        - email
        - openid
        - aws.cognito.signin.user.admin
      CallbackURLs:
        - https://example.com
      ExplicitAuthFlows:
        - ALLOW_USER_PASSWORD_AUTH
        - ALLOW_ADMIN_USER_PASSWORD_AUTH
        - ALLOW_USER_SRP_AUTH
        - ALLOW_REFRESH_TOKEN_AUTH
      GenerateSecret: false
      SupportedIdentityProviders:
        - COGNITO
      UserPoolId:
        Ref: DataStackUserPool5C318670
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UserPoolClient/Resource
  DataStackPhonePeSecret42B1E77E:
    Type: AWS::SecretsManager::Secret
    Properties:
      Description: PhonePe payment gateway credentials
      GenerateSecretString: {}
      Name: marketplace/phonepe/credentials-v3
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PhonePeSecret/Resource
  DataStackLambdaExecutionRole7C9686D1:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - dynamodb:DeleteItem
                  - dynamodb:GetItem
                  - dynamodb:PutItem
                  - dynamodb:Query
                  - dynamodb:Scan
                  - dynamodb:UpdateItem
                Effect: Allow
                Resource:
                  - Fn::GetAtt:
                      - DataStackApiMetricsTableE799E845
                      - Arn
                  - Fn::GetAtt:
                      - DataStackCompanySettingsTable691FA35F
                      - Arn
                  - Fn::GetAtt:
                      - DataStackPartnerApplicationTable548221AF
                      - Arn
                  - Fn::GetAtt:
                      - DataStackPaymentTransactionsTable7CE3C981
                      - Arn
                  - Fn::GetAtt:
                      - DataStackSessionTable8346BE43
                      - Arn
                  - Fn::GetAtt:
                      - DataStackSolutionTable263711A4
                      - Arn
                  - Fn::GetAtt:
                      - DataStackSubscriptionHistoryTable85DE92AB
                      - Arn
                  - Fn::GetAtt:
                      - DataStackTokenTable96347A0A
                      - Arn
                  - Fn::GetAtt:
                      - DataStackUserSessionsTable8A5C3276
                      - Arn
                  - Fn::GetAtt:
                      - DataStackUserSolutionEntitlementsTableA6D19624
                      - Arn
                  - Fn::GetAtt:
                      - DataStackUserTableDAF10CB8
                      - Arn
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackApiMetricsTableE799E845
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackPartnerApplicationTable548221AF
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackPaymentTransactionsTable7CE3C981
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackSolutionTable263711A4
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackSubscriptionHistoryTable85DE92AB
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackTokenTable96347A0A
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackUserSessionsTable8A5C3276
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackUserSolutionEntitlementsTableA6D19624
                            - Arn
                        - /index/*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackUserTableDAF10CB8
                            - Arn
                        - /index/*
              - Action:
                  - s3:DeleteObject
                  - s3:GetObject
                  - s3:PutObject
                Effect: Allow
                Resource:
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackAssetsBucketBB720BB4
                            - Arn
                        - /*
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - DataStackInvoiceBucket65FDB85F
                            - Arn
                        - /*
              - Action: secretsmanager:GetSecretValue
                Effect: Allow
                Resource:
                  Ref: DataStackPhonePeSecret42B1E77E
              - Action:
                  - lambda:InvokeFunction
                  - ses:SendEmail
                  - ses:SendRawEmail
                Effect: Allow
                Resource: "*"
            Version: "2012-10-17"
          PolicyName: DynamoDBAccess
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/LambdaExecutionRole/Resource
  DataStackPaymentInitiateFunctionD15C32F6:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
          SOLUTION_TABLE_NAME:
            Ref: DataStackSolutionTable263711A4
          COMPANY_SETTINGS_TABLE:
            Ref: DataStackCompanySettingsTable691FA35F
          AWS_REGION_NAME: us-east-1
      Handler: initiate.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PaymentInitiateFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackCashfreeWebhookFunction527813C0:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          USER_TABLE:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
          SUBSCRIPTION_HISTORY_TABLE:
            Ref: DataStackSubscriptionHistoryTable85DE92AB
      Handler: cashfree-webhook.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/CashfreeWebhookFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackInvoiceGenerationFunction4566C837:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          COMPANY_SETTINGS_TABLE:
            Ref: DataStackCompanySettingsTable691FA35F
          INVOICE_BUCKET:
            Ref: DataStackInvoiceBucket65FDB85F
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
      Handler: generate-invoice.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 60
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/InvoiceGenerationFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackPaymentStatusFunction7DACB675:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
      Handler: status.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PaymentStatusFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackUpgradeToProFunction676084F3:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          USER_TABLE:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
          AWS_REGION_NAME: us-east-1
      Handler: upgrade-to-pro.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UpgradeToProFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackPaymentCallbackFunction10AC9DAF:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
      Handler: payment-callback.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PaymentCallbackFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackPhonePeWebhookFunction9AA53DB2:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          USER_TABLE:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
      Handler: phonepe-webhook.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PhonePeWebhookFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackPhonePeReconciliationFunctionBB9D0DAA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
      Handler: phonepe-reconciliation.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PhonePeReconciliationFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackCatalogFunctionD044DBE9:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 819daf22fddf36a0632b9e482bc35e952a9239f4e70d3d10f5ca4426935d3b08.zip
      Environment:
        Variables:
          SOLUTION_TABLE_NAME:
            Ref: DataStackSolutionTable263711A4
          ASSETS_BUCKET:
            Ref: DataStackAssetsBucketBB720BB4
      Handler: catalog.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/CatalogFunction/Resource
      aws:asset:path: asset.819daf22fddf36a0632b9e482bc35e952a9239f4e70d3d10f5ca4426935d3b08
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackSolutionManagementFunctionEE2EDC63:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48.zip
      Environment:
        Variables:
          SOLUTION_TABLE_NAME:
            Ref: DataStackSolutionTable263711A4
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: solution-management.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/SolutionManagementFunction/Resource
      aws:asset:path: asset.7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackPartnerApplicationFunction4A31143E:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48.zip
      Environment:
        Variables:
          PARTNER_APPLICATION_TABLE:
            Ref: DataStackPartnerApplicationTable548221AF
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: partner-application.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PartnerApplicationFunction/Resource
      aws:asset:path: asset.7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackAdminFunction0239A547:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 9f4e17511bdcb98d47c12926b6950f196cba8be68826395ceaa1b24622ff5b96.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          SOLUTION_TABLE_NAME:
            Ref: DataStackSolutionTable263711A4
          PARTNER_APPLICATION_TABLE:
            Ref: DataStackPartnerApplicationTable548221AF
      Handler: admin.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/AdminFunction/Resource
      aws:asset:path: asset.9f4e17511bdcb98d47c12926b6950f196cba8be68826395ceaa1b24622ff5b96
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackUserManagementFunction2DF9A400:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: user-management.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UserManagementFunction/Resource
      aws:asset:path: asset.7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackProfileFunction4438799E:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: profile.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/ProfileFunction/Resource
      aws:asset:path: asset.7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackRegisterFunctionF84E6531:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: register.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/RegisterFunction/Resource
      aws:asset:path: asset.7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackTokenManagerFunction1E96B2A8:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456.zip
      Environment:
        Variables:
          TOKEN_TABLE:
            Ref: DataStackTokenTable96347A0A
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: token-manager.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/TokenManagerFunction/Resource
      aws:asset:path: asset.7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackSolutionTokenGeneratorFunctionE2094D8C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456.zip
      Environment:
        Variables:
          TOKEN_TABLE:
            Ref: DataStackTokenTable96347A0A
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
      Handler: solution-token-generator.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/SolutionTokenGeneratorFunction/Resource
      aws:asset:path: asset.7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackGenerateSolutionTokenFunction15107C38:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456.zip
      Environment:
        Variables:
          TOKEN_TABLE:
            Ref: DataStackTokenTable96347A0A
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
      Handler: generate-solution-token.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/GenerateSolutionTokenFunction/Resource
      aws:asset:path: asset.7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackSolutionTokenValidatorFunction20C6197A:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456.zip
      Environment:
        Variables:
          TOKEN_TABLE:
            Ref: DataStackTokenTable96347A0A
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
          API_METRICS_TABLE:
            Ref: DataStackApiMetricsTableE799E845
      Handler: solution-token-validator.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/SolutionTokenValidatorFunction/Resource
      aws:asset:path: asset.7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackCheckUserLimitsFunction193DFEEE:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456.zip
      Environment:
        Variables:
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
      Handler: check-user-limits.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/CheckUserLimitsFunction/Resource
      aws:asset:path: asset.7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackIncrementUsageFunction10626010:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456.zip
      Environment:
        Variables:
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
          API_METRICS_TABLE:
            Ref: DataStackApiMetricsTableE799E845
      Handler: increment-usage.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/IncrementUsageFunction/Resource
      aws:asset:path: asset.7ad29577371b5f888824b18a2d9eb8b7d68a082630ef11df8d2d2c2475613456
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackUsageAnalyticsFunction6E97A510:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a.zip
      Environment:
        Variables:
          API_METRICS_TABLE:
            Ref: DataStackApiMetricsTableE799E845
          USER_SESSIONS_TABLE:
            Ref: DataStackUserSessionsTable8A5C3276
      Handler: usage-analytics.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/UsageAnalyticsFunction/Resource
      aws:asset:path: asset.2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackBusinessMetricsFunction6A5ACF87:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
          SUBSCRIPTION_HISTORY_TABLE:
            Ref: DataStackSubscriptionHistoryTable85DE92AB
      Handler: business-metrics.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/BusinessMetricsFunction/Resource
      aws:asset:path: asset.2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackGeographicAnalyticsFunction6C35AAA5:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a.zip
      Environment:
        Variables:
          USER_SESSIONS_TABLE:
            Ref: DataStackUserSessionsTable8A5C3276
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
      Handler: geographic-analytics.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/GeographicAnalyticsFunction/Resource
      aws:asset:path: asset.2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackMsmeKpiFunction552DC9C4:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          SOLUTION_TABLE_NAME:
            Ref: DataStackSolutionTable263711A4
      Handler: msme-kpi.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/MsmeKpiFunction/Resource
      aws:asset:path: asset.2f3b0b94d8de29ba2d10035b69841cef7c65637f0e6d075f0252330f2a921a7a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DataStackPaymentReconciliationFunctionD6252459:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612.zip
      Environment:
        Variables:
          PAYMENT_TRANSACTIONS_TABLE:
            Ref: DataStackPaymentTransactionsTable7CE3C981
      Handler: payment-reconciliation.handler
      Role:
        Fn::GetAtt:
          - DataStackLambdaExecutionRole7C9686D1
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - DataStackLambdaExecutionRole7C9686D1
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/DataStack/PaymentReconciliationFunction/Resource
      aws:asset:path: asset.dcd8c1a4195f2cdfd2d77a4ca456ef1c2bbf2abf2b7caee0313ea874e4fc4612
      aws:asset:is-bundled: false
      aws:asset:property: Code
  AuthStackPostConfirmationFunctionServiceRole412B705E:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/PostConfirmationFunction/ServiceRole/Resource
  AuthStackPostConfirmationFunctionServiceRoleDefaultPolicy40E592BB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:BatchWriteItem
              - dynamodb:DeleteItem
              - dynamodb:DescribeTable
              - dynamodb:PutItem
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DataStackSubscriptionHistoryTable85DE92AB
                  - Arn
              - Fn::GetAtt:
                  - DataStackUserSolutionEntitlementsTableA6D19624
                  - Arn
              - Fn::GetAtt:
                  - DataStackUserTableDAF10CB8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DataStackUserTableDAF10CB8
                        - Arn
                    - /index/*
              - Ref: AWS::NoValue
        Version: "2012-10-17"
      PolicyName: AuthStackPostConfirmationFunctionServiceRoleDefaultPolicy40E592BB
      Roles:
        - Ref: AuthStackPostConfirmationFunctionServiceRole412B705E
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/PostConfirmationFunction/ServiceRole/DefaultPolicy/Resource
  AuthStackPostConfirmationFunction129E5B2F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-637423202175-us-west-1
        S3Key: 7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48.zip
      Environment:
        Variables:
          USER_TABLE_NAME:
            Ref: DataStackUserTableDAF10CB8
          USER_SOLUTION_ENTITLEMENTS_TABLE:
            Ref: DataStackUserSolutionEntitlementsTableA6D19624
          SUBSCRIPTION_HISTORY_TABLE:
            Ref: DataStackSubscriptionHistoryTable85DE92AB
          TOKEN_SECRET: marketplace-secret-key-2024
      Handler: post-confirmation.handler
      Role:
        Fn::GetAtt:
          - AuthStackPostConfirmationFunctionServiceRole412B705E
          - Arn
      Runtime: nodejs18.x
    DependsOn:
      - AuthStackPostConfirmationFunctionServiceRoleDefaultPolicy40E592BB
      - AuthStackPostConfirmationFunctionServiceRole412B705E
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/PostConfirmationFunction/Resource
      aws:asset:path: asset.7683236e4b9b0948936d6018d7ebaab10706e45ba9fd5b06c982599f245d7b48
      aws:asset:is-bundled: false
      aws:asset:property: Code
  AuthStackMarketplaceUserPoolPostConfirmationCognito9E3C346D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - AuthStackPostConfirmationFunction129E5B2F
          - Arn
      Principal: cognito-idp.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - AuthStackMarketplaceUserPool108C1687
          - Arn
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/MarketplaceUserPool/PostConfirmationCognito
  AuthStackMarketplaceUserPool108C1687:
    Type: AWS::Cognito::UserPool
    Properties:
      AccountRecoverySetting:
        RecoveryMechanisms:
          - Name: verified_email
            Priority: 1
      AdminCreateUserConfig:
        AllowAdminCreateUserOnly: false
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage: The verification code to your new account is {####}
      EmailVerificationSubject: Verify your new account
      LambdaConfig:
        PostConfirmation:
          Fn::GetAtt:
            - AuthStackPostConfirmationFunction129E5B2F
            - Arn
      Policies:
        PasswordPolicy:
          MinimumLength: 8
          RequireLowercase: true
          RequireNumbers: true
          RequireSymbols: true
          RequireUppercase: true
      Schema:
        - Mutable: true
          Name: email
          Required: true
        - Mutable: true
          Name: given_name
          Required: true
        - Mutable: true
          Name: family_name
          Required: true
        - AttributeDataType: String
          Mutable: true
          Name: role
          StringAttributeConstraints:
            MaxLength: "20"
            MinLength: "1"
        - AttributeDataType: String
          Mutable: true
          Name: company
          StringAttributeConstraints:
            MaxLength: "100"
            MinLength: "0"
        - AttributeDataType: String
          Mutable: true
          Name: partnerStatus
          StringAttributeConstraints:
            MaxLength: "20"
            MinLength: "0"
      SmsVerificationMessage: The verification code to your new account is {####}
      UserPoolName: marketplace-users-v2
      UsernameAttributes:
        - email
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_CODE
        EmailMessage: The verification code to your new account is {####}
        EmailSubject: Verify your new account
        SmsMessage: The verification code to your new account is {####}
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/MarketplaceUserPool/Resource
  AuthStackMarketplaceUserPoolClientBBC0EAC8:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      AccessTokenValidity: 60
      AllowedOAuthFlows:
        - code
      AllowedOAuthFlowsUserPoolClient: true
      AllowedOAuthScopes:
        - email
        - openid
        - profile
      CallbackURLs:
        - http://localhost:3000/auth/callback
        - https://marketplace.example.com/auth/callback
      ClientName: marketplace-web-client
      ExplicitAuthFlows:
        - ALLOW_USER_PASSWORD_AUTH
        - ALLOW_ADMIN_USER_PASSWORD_AUTH
        - ALLOW_USER_SRP_AUTH
        - ALLOW_REFRESH_TOKEN_AUTH
      GenerateSecret: false
      IdTokenValidity: 60
      LogoutURLs:
        - http://localhost:3000
        - https://marketplace.example.com
      PreventUserExistenceErrors: ENABLED
      ReadAttributes:
        - custom:company
        - custom:role
        - email
        - family_name
        - given_name
      RefreshTokenValidity: 43200
      SupportedIdentityProviders:
        - COGNITO
      TokenValidityUnits:
        AccessToken: minutes
        IdToken: minutes
        RefreshToken: minutes
      UserPoolId:
        Ref: AuthStackMarketplaceUserPool108C1687
      WriteAttributes:
        - custom:company
        - custom:role
        - email
        - family_name
        - given_name
    DependsOn:
      - AuthStackGoogleProvider8C97931F
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/MarketplaceUserPoolClient/Resource
  AuthStackGoogleProvider8C97931F:
    Type: AWS::Cognito::UserPoolIdentityProvider
    Properties:
      AttributeMapping:
        email: email
        given_name: given_name
        family_name: family_name
        picture: picture
      ProviderDetails:
        client_id: GOOGLE_CLIENT_ID
        client_secret: GOOGLE_CLIENT_SECRET
        authorize_scopes: email profile openid
      ProviderName: Google
      ProviderType: Google
      UserPoolId:
        Ref: AuthStackMarketplaceUserPool108C1687
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/GoogleProvider/Resource
  AuthStackMarketplaceUserPoolDomain24056E9D:
    Type: AWS::Cognito::UserPoolDomain
    Properties:
      Domain:
        Fn::Join:
          - ""
          - - marketplace-
            - Ref: AWS::AccountId
      UserPoolId:
        Ref: AuthStackMarketplaceUserPool108C1687
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/MarketplaceUserPoolDomain/Resource
  AuthStackMarketplaceIdentityPool2D594D39:
    Type: AWS::Cognito::IdentityPool
    Properties:
      AllowUnauthenticatedIdentities: false
      CognitoIdentityProviders:
        - ClientId:
            Ref: AuthStackMarketplaceUserPoolClientBBC0EAC8
          ProviderName:
            Fn::GetAtt:
              - AuthStackMarketplaceUserPool108C1687
              - ProviderName
      IdentityPoolName: marketplace-identity-pool
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/AuthStack/MarketplaceIdentityPool
  ApiStackMarketplaceApiD72EC836:
    Type: AWS::ApiGateway::RestApi
    Properties:
      Description: API for marketplace platform
      Name: Marketplace API
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Resource
  ApiStackMarketplaceApiCloudWatchRole4CCAD4BA:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: apigateway.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/CloudWatchRole/Resource
  ApiStackMarketplaceApiAccountD0F159BF:
    Type: AWS::ApiGateway::Account
    Properties:
      CloudWatchRoleArn:
        Fn::GetAtt:
          - ApiStackMarketplaceApiCloudWatchRole4CCAD4BA
          - Arn
    DependsOn:
      - ApiStackMarketplaceApiD72EC836
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Account
  ApiStackMarketplaceApiDeployment421CA4B0cb9f22d9bac1ec2e54383ed9ca79fd94:
    Type: AWS::ApiGateway::Deployment
    Properties:
      Description: API for marketplace platform
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    DependsOn:
      - ApiStackCognitoAuthorizer86C8FE05
      - ApiStackMarketplaceApiadminapplicationsapplicationIdOPTIONS2FC79DF8
      - ApiStackMarketplaceApiadminapplicationsapplicationIdPUT741B27C4
      - ApiStackMarketplaceApiadminapplicationsapplicationIdEBEA0D14
      - ApiStackMarketplaceApiadminapplicationsGETCFB502A1
      - ApiStackMarketplaceApiadminapplicationsOPTIONS96E38367
      - ApiStackMarketplaceApiadminapplicationsE37F3374
      - ApiStackMarketplaceApiadminmigrateusercountriesOPTIONS3540E9E2
      - ApiStackMarketplaceApiadminmigrateusercountriesPOST5FED484D
      - ApiStackMarketplaceApiadminmigrateusercountries80228FD1
      - ApiStackMarketplaceApiadminOPTIONS01D3DE2D
      - ApiStackMarketplaceApiadminF8906A41
      - ApiStackMarketplaceApiadminsolutionssolutionIdOPTIONS5A89CC68
      - ApiStackMarketplaceApiadminsolutionssolutionIdPUT4878E3D7
      - ApiStackMarketplaceApiadminsolutionssolutionId6A9CF698
      - ApiStackMarketplaceApiadminsolutionsGET846BE0B4
      - ApiStackMarketplaceApiadminsolutionsOPTIONS4F6B795A
      - ApiStackMarketplaceApiadminsolutions7C9C35FD
      - ApiStackMarketplaceApiadminusersuserIdOPTIONS0F784B53
      - ApiStackMarketplaceApiadminusersuserIdPUT838C7E0B
      - ApiStackMarketplaceApiadminusersuserId52DC57B8
      - ApiStackMarketplaceApiadminusersGET6EDC3584
      - ApiStackMarketplaceApiadminusersOPTIONS8941C8E4
      - ApiStackMarketplaceApiadminusers505EA2A1
      - ApiStackMarketplaceApiapianalyticsbusinessmetricsGET9D2F6636
      - ApiStackMarketplaceApiapianalyticsbusinessmetricsOPTIONS106C4631
      - ApiStackMarketplaceApiapianalyticsbusinessmetrics06A1240C
      - ApiStackMarketplaceApiapianalyticsgeographicGETD12F1C95
      - ApiStackMarketplaceApiapianalyticsgeographicOPTIONS99A3539D
      - ApiStackMarketplaceApiapianalyticsgeographic5B944493
      - ApiStackMarketplaceApiapianalyticsmsmekpisGET2E448329
      - ApiStackMarketplaceApiapianalyticsmsmekpisOPTIONSCFCEF6F7
      - ApiStackMarketplaceApiapianalyticsmsmekpisDD870CFD
      - ApiStackMarketplaceApiapianalyticsOPTIONS2B12B66C
      - ApiStackMarketplaceApiapianalytics9E3B1FAC
      - ApiStackMarketplaceApiapianalyticsusageGETC51BEFEB
      - ApiStackMarketplaceApiapianalyticsusageOPTIONS1437F591
      - ApiStackMarketplaceApiapianalyticsusage0DA5B3C0
      - ApiStackMarketplaceApiapicheckuserlimitsOPTIONS6E6ADA55
      - ApiStackMarketplaceApiapicheckuserlimitsPOSTF097D723
      - ApiStackMarketplaceApiapicheckuserlimitsFA226AD5
      - ApiStackMarketplaceApiapifoundermetricsGET90C92C67
      - ApiStackMarketplaceApiapifoundermetricsOPTIONS05A0791B
      - ApiStackMarketplaceApiapifoundermetrics4D3DBB75
      - ApiStackMarketplaceApiapifounderOPTIONS804F98BC
      - ApiStackMarketplaceApiapifounder8AD2EBF0
      - ApiStackMarketplaceApiapigeneratesolutiontokenOPTIONS4AF6A57E
      - ApiStackMarketplaceApiapigeneratesolutiontokenPOST30EDCC83
      - ApiStackMarketplaceApiapigeneratesolutiontokenAC1CB53C
      - ApiStackMarketplaceApiapigeneratetokenOPTIONSBA1D6502
      - ApiStackMarketplaceApiapigeneratetokenPOST8AF808DE
      - ApiStackMarketplaceApiapigeneratetoken81444AC9
      - ApiStackMarketplaceApiapiincrementusageOPTIONS7862A2E4
      - ApiStackMarketplaceApiapiincrementusagePOST20240CC5
      - ApiStackMarketplaceApiapiincrementusageEC8EF305
      - ApiStackMarketplaceApiapiOPTIONS7A917834
      - ApiStackMarketplaceApiapi958C78BD
      - ApiStackMarketplaceApiapitrackusageOPTIONS1A0C387B
      - ApiStackMarketplaceApiapitrackusagePOST7A8BD2A4
      - ApiStackMarketplaceApiapitrackusage20197B27
      - ApiStackMarketplaceApiapiusertokensuserIdGET2BF0C533
      - ApiStackMarketplaceApiapiusertokensuserIdOPTIONS1C60233B
      - ApiStackMarketplaceApiapiusertokensuserId7E25C41A
      - ApiStackMarketplaceApiapiusertokensOPTIONS6F71F32B
      - ApiStackMarketplaceApiapiusertokensFBEAE372
      - ApiStackMarketplaceApiapivalidatesolutiontokenOPTIONSF3FF84CD
      - ApiStackMarketplaceApiapivalidatesolutiontokenPOST6C7D8F69
      - ApiStackMarketplaceApiapivalidatesolutiontoken77CB8F17
      - ApiStackMarketplaceApiauthOPTIONS2BEEB80E
      - ApiStackMarketplaceApiauthregisterOPTIONSB002691A
      - ApiStackMarketplaceApiauthregisterPOSTEFC696AD
      - ApiStackMarketplaceApiauthregisterF2E28A1C
      - ApiStackMarketplaceApiauth97754757
      - ApiStackMarketplaceApicatalogsolutionIdGET1DCB9684
      - ApiStackMarketplaceApicatalogsolutionIdOPTIONS4EDAC6F6
      - ApiStackMarketplaceApicatalogsolutionId46DBE65A
      - ApiStackMarketplaceApicatalogcategoriesGETF907BAD2
      - ApiStackMarketplaceApicatalogcategoriesOPTIONSF742C600
      - ApiStackMarketplaceApicatalogcategoriesC15CDDB8
      - ApiStackMarketplaceApicatalogGET8494C7FC
      - ApiStackMarketplaceApicatalogOPTIONS8C6C645B
      - ApiStackMarketplaceApicatalogF58E190D
      - ApiStackMarketplaceApicatalogsearchGETA5F19784
      - ApiStackMarketplaceApicatalogsearchOPTIONS517D50BE
      - ApiStackMarketplaceApicatalogsearch6E37E2D7
      - ApiStackMarketplaceApicataloguploadimageOPTIONSB4A639F6
      - ApiStackMarketplaceApicataloguploadimagePOST07579A88
      - ApiStackMarketplaceApicataloguploadimage2E8D8B5C
      - ApiStackMarketplaceApiOPTIONSAF06DD56
      - ApiStackMarketplaceApipartnerapplicationsapplicationIdGET5BA1F5DD
      - ApiStackMarketplaceApipartnerapplicationsapplicationIdOPTIONSDF04F8F5
      - ApiStackMarketplaceApipartnerapplicationsapplicationIdPUTAC8BB3B4
      - ApiStackMarketplaceApipartnerapplicationsapplicationId13E7110A
      - ApiStackMarketplaceApipartnerapplicationsGETF215B1C8
      - ApiStackMarketplaceApipartnerapplicationsOPTIONS7F755EE6
      - ApiStackMarketplaceApipartnerapplicationsPOST01057702
      - ApiStackMarketplaceApipartnerapplications14B10C1A
      - ApiStackMarketplaceApipartnerOPTIONSA3A2E924
      - ApiStackMarketplaceApipartner81458BD8
      - ApiStackMarketplaceApipartnersolutionssolutionIdDELETE00B5139F
      - ApiStackMarketplaceApipartnersolutionssolutionIdOPTIONSD571205E
      - ApiStackMarketplaceApipartnersolutionssolutionIdPUT17C87869
      - ApiStackMarketplaceApipartnersolutionssolutionIdA38AD083
      - ApiStackMarketplaceApipartnersolutionsGET9CEF20AB
      - ApiStackMarketplaceApipartnersolutionsOPTIONS95C0DD4F
      - ApiStackMarketplaceApipartnersolutionsPOST692C3521
      - ApiStackMarketplaceApipartnersolutions1C11A104
      - ApiStackMarketplaceApipaymentscallbackGETC384FD32
      - ApiStackMarketplaceApipaymentscallbackOPTIONS53128961
      - ApiStackMarketplaceApipaymentscallbackPOSTD401E169
      - ApiStackMarketplaceApipaymentscallbackFFB3710B
      - ApiStackMarketplaceApipaymentscashfreewebhookOPTIONS1E27D934
      - ApiStackMarketplaceApipaymentscashfreewebhookPOSTB0085D44
      - ApiStackMarketplaceApipaymentscashfreewebhook04DC89A4
      - ApiStackMarketplaceApipaymentsinitiateOPTIONS1A84F045
      - ApiStackMarketplaceApipaymentsinitiatePOST5D8CBB9F
      - ApiStackMarketplaceApipaymentsinitiateEEAB90DB
      - ApiStackMarketplaceApipaymentsOPTIONS33A2CE83
      - ApiStackMarketplaceApipaymentsphonepewebhookOPTIONS70E0D138
      - ApiStackMarketplaceApipaymentsphonepewebhookPOST7D15FC31
      - ApiStackMarketplaceApipaymentsphonepewebhook3B86E77B
      - ApiStackMarketplaceApipaymentsreconciliationOPTIONS3FF467B8
      - ApiStackMarketplaceApipaymentsreconciliationPOSTB5DA70EB
      - ApiStackMarketplaceApipaymentsreconciliationEFDDB92D
      - ApiStackMarketplaceApipayments5048719D
      - ApiStackMarketplaceApipaymentsstatustransactionIdGETACAD654B
      - ApiStackMarketplaceApipaymentsstatustransactionIdOPTIONS71DF58AD
      - ApiStackMarketplaceApipaymentsstatustransactionId92430E9B
      - ApiStackMarketplaceApipaymentsstatusOPTIONS45489288
      - ApiStackMarketplaceApipaymentsstatus25881215
      - ApiStackMarketplaceApipaymentsupgradetoproOPTIONSCCF110BB
      - ApiStackMarketplaceApipaymentsupgradetoproPOST0863C972
      - ApiStackMarketplaceApipaymentsupgradetoproC8E60749
      - ApiStackMarketplaceApiuseruserIdGET7ADE35A3
      - ApiStackMarketplaceApiuseruserIdOPTIONS5353492B
      - ApiStackMarketplaceApiuseruserIdFB7E5641
      - ApiStackMarketplaceApiuserOPTIONS724AB15D
      - ApiStackMarketplaceApiuserprofileGET4844F155
      - ApiStackMarketplaceApiuserprofileOPTIONS5846C47B
      - ApiStackMarketplaceApiuserprofilePUT3C184A66
      - ApiStackMarketplaceApiuserprofile4EFF3F91
      - ApiStackMarketplaceApiuserE88510E5
      - ApiStackMarketplaceApiUnauthorized7C9D6A06
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Deployment/Resource
      aws:cdk:do-not-refactor: true
  ApiStackMarketplaceApiDeploymentStageprod06C16C76:
    Type: AWS::ApiGateway::Stage
    Properties:
      DeploymentId:
        Ref: ApiStackMarketplaceApiDeployment421CA4B0cb9f22d9bac1ec2e54383ed9ca79fd94
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
      StageName: prod
    DependsOn:
      - ApiStackMarketplaceApiAccountD0F159BF
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/DeploymentStage.prod/Resource
  ApiStackMarketplaceApiOPTIONSAF06DD56:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/OPTIONS/Resource
  ApiStackMarketplaceApiauth97754757:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: auth
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/Resource
  ApiStackMarketplaceApiauthOPTIONS2BEEB80E:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiauth97754757
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/OPTIONS/Resource
  ApiStackMarketplaceApiauthregisterF2E28A1C:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiauth97754757
      PathPart: register
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/register/Resource
  ApiStackMarketplaceApiauthregisterOPTIONSB002691A:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiauthregisterF2E28A1C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/register/OPTIONS/Resource
  ApiStackMarketplaceApiauthregisterPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTauthregister3D962E65:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackRegisterFunctionF84E6531
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/auth/register
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/register/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..auth.register
  ApiStackMarketplaceApiauthregisterPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTauthregisterEFC9CCBD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackRegisterFunctionF84E6531
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/auth/register
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/register/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..auth.register
  ApiStackMarketplaceApiauthregisterPOSTEFC696AD:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackRegisterFunctionF84E6531
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiauthregisterF2E28A1C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/auth/register/POST/Resource
  ApiStackMarketplaceApicatalogF58E190D:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: catalog
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/Resource
  ApiStackMarketplaceApicatalogOPTIONS8C6C645B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogF58E190D
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/OPTIONS/Resource
  ApiStackMarketplaceApicatalogGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalog1CA6DFC3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/catalog
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog
  ApiStackMarketplaceApicatalogGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalog9AEBE7C9:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/catalog
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog
  ApiStackMarketplaceApicatalogGET8494C7FC:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCatalogFunctionD044DBE9
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogF58E190D
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/GET/Resource
  ApiStackMarketplaceApicatalogsearch6E37E2D7:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApicatalogF58E190D
      PathPart: search
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/search/Resource
  ApiStackMarketplaceApicatalogsearchOPTIONS517D50BE:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogsearch6E37E2D7
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/search/OPTIONS/Resource
  ApiStackMarketplaceApicatalogsearchGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalogsearch9A067A30:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/catalog/search
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/search/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog.search
  ApiStackMarketplaceApicatalogsearchGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalogsearch9678AAC3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/catalog/search
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/search/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog.search
  ApiStackMarketplaceApicatalogsearchGETA5F19784:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCatalogFunctionD044DBE9
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogsearch6E37E2D7
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/search/GET/Resource
  ApiStackMarketplaceApicatalogcategoriesC15CDDB8:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApicatalogF58E190D
      PathPart: categories
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/categories/Resource
  ApiStackMarketplaceApicatalogcategoriesOPTIONSF742C600:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogcategoriesC15CDDB8
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/categories/OPTIONS/Resource
  ApiStackMarketplaceApicatalogcategoriesGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalogcategoriesE0AF59CE:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/catalog/categories
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/categories/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog.categories
  ApiStackMarketplaceApicatalogcategoriesGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalogcategories0A40E24B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/catalog/categories
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/categories/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog.categories
  ApiStackMarketplaceApicatalogcategoriesGETF907BAD2:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCatalogFunctionD044DBE9
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogcategoriesC15CDDB8
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/categories/GET/Resource
  ApiStackMarketplaceApicatalogsolutionId46DBE65A:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApicatalogF58E190D
      PathPart: "{solutionId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/{solutionId}/Resource
  ApiStackMarketplaceApicatalogsolutionIdOPTIONS4EDAC6F6:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogsolutionId46DBE65A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/{solutionId}/OPTIONS/Resource
  ApiStackMarketplaceApicatalogsolutionIdGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalogsolutionId13BC5A1D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/catalog/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/{solutionId}/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog.{solutionId}
  ApiStackMarketplaceApicatalogsolutionIdGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETcatalogsolutionId4D546C50:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/catalog/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/{solutionId}/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..catalog.{solutionId}
  ApiStackMarketplaceApicatalogsolutionIdGET1DCB9684:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCatalogFunctionD044DBE9
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApicatalogsolutionId46DBE65A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/{solutionId}/GET/Resource
  ApiStackMarketplaceApicataloguploadimage2E8D8B5C:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApicatalogF58E190D
      PathPart: upload-image
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/upload-image/Resource
  ApiStackMarketplaceApicataloguploadimageOPTIONSB4A639F6:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApicataloguploadimage2E8D8B5C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/upload-image/OPTIONS/Resource
  ApiStackMarketplaceApicataloguploadimagePOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTcataloguploadimage6E142987:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/catalog/upload-image
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/upload-image/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..catalog.upload-image
  ApiStackMarketplaceApicataloguploadimagePOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTcataloguploadimageB164E2C3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCatalogFunctionD044DBE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/catalog/upload-image
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/upload-image/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..catalog.upload-image
  ApiStackMarketplaceApicataloguploadimagePOST07579A88:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCatalogFunctionD044DBE9
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApicataloguploadimage2E8D8B5C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/catalog/upload-image/POST/Resource
  ApiStackMarketplaceApiuserE88510E5:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: user
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/Resource
  ApiStackMarketplaceApiuserOPTIONS724AB15D:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiuserE88510E5
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/OPTIONS/Resource
  ApiStackMarketplaceApiuseruserIdFB7E5641:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiuserE88510E5
      PathPart: "{userId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/{userId}/Resource
  ApiStackMarketplaceApiuseruserIdOPTIONS5353492B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiuseruserIdFB7E5641
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/{userId}/OPTIONS/Resource
  ApiStackMarketplaceApiuseruserIdGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETuseruserIdA8EEAA1D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackUserManagementFunction2DF9A400
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/user/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/{userId}/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..user.{userId}
  ApiStackMarketplaceApiuseruserIdGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETuseruserId71817498:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackUserManagementFunction2DF9A400
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/user/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/{userId}/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..user.{userId}
  ApiStackMarketplaceApiuseruserIdGET7ADE35A3:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackUserManagementFunction2DF9A400
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiuseruserIdFB7E5641
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/{userId}/GET/Resource
  ApiStackMarketplaceApiuserprofile4EFF3F91:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiuserE88510E5
      PathPart: profile
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/Resource
  ApiStackMarketplaceApiuserprofileOPTIONS5846C47B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiuserprofile4EFF3F91
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/OPTIONS/Resource
  ApiStackMarketplaceApiuserprofileGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETuserprofileC6F8C800:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackProfileFunction4438799E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/user/profile
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..user.profile
  ApiStackMarketplaceApiuserprofileGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETuserprofile7848FCD8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackProfileFunction4438799E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/user/profile
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..user.profile
  ApiStackMarketplaceApiuserprofileGET4844F155:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackProfileFunction4438799E
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiuserprofile4EFF3F91
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/GET/Resource
  ApiStackMarketplaceApiuserprofilePUTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTuserprofile7291BCC8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackProfileFunction4438799E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /PUT/user/profile
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/PUT/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..user.profile
  ApiStackMarketplaceApiuserprofilePUTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTuserprofile9B5114A0:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackProfileFunction4438799E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/PUT/user/profile
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/PUT/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..user.profile
  ApiStackMarketplaceApiuserprofilePUT3C184A66:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackProfileFunction4438799E
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiuserprofile4EFF3F91
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/user/profile/PUT/Resource
  ApiStackMarketplaceApipayments5048719D:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: payments
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/Resource
  ApiStackMarketplaceApipaymentsOPTIONS33A2CE83:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipayments5048719D
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsinitiateEEAB90DB:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: initiate
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/initiate/Resource
  ApiStackMarketplaceApipaymentsinitiateOPTIONS1A84F045:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsinitiateEEAB90DB
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/initiate/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsinitiatePOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsinitiate6A7E1C2E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentInitiateFunctionD15C32F6
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/payments/initiate
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/initiate/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.initiate
  ApiStackMarketplaceApipaymentsinitiatePOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsinitiate925CCFDA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentInitiateFunctionD15C32F6
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/payments/initiate
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/initiate/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.initiate
  ApiStackMarketplaceApipaymentsinitiatePOST5D8CBB9F:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPaymentInitiateFunctionD15C32F6
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsinitiateEEAB90DB
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/initiate/POST/Resource
  ApiStackMarketplaceApipaymentsstatus25881215:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: status
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/Resource
  ApiStackMarketplaceApipaymentsstatusOPTIONS45489288:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsstatus25881215
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsstatustransactionId92430E9B:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipaymentsstatus25881215
      PathPart: "{transactionId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/{transactionId}/Resource
  ApiStackMarketplaceApipaymentsstatustransactionIdOPTIONS71DF58AD:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsstatustransactionId92430E9B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/{transactionId}/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsstatustransactionIdGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpaymentsstatustransactionId93AF95BD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentStatusFunction7DACB675
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/payments/status/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/{transactionId}/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..payments.status.{transactionId}
  ApiStackMarketplaceApipaymentsstatustransactionIdGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpaymentsstatustransactionId81B80B8D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentStatusFunction7DACB675
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/payments/status/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/{transactionId}/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..payments.status.{transactionId}
  ApiStackMarketplaceApipaymentsstatustransactionIdGETACAD654B:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPaymentStatusFunction7DACB675
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsstatustransactionId92430E9B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/status/{transactionId}/GET/Resource
  ApiStackMarketplaceApipaymentscallbackFFB3710B:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: callback
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/Resource
  ApiStackMarketplaceApipaymentscallbackOPTIONS53128961:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentscallbackFFB3710B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/OPTIONS/Resource
  ApiStackMarketplaceApipaymentscallbackGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpaymentscallbackB6B48CDB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentCallbackFunction10AC9DAF
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/payments/callback
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..payments.callback
  ApiStackMarketplaceApipaymentscallbackGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpaymentscallbackC94DA7FF:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentCallbackFunction10AC9DAF
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/payments/callback
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..payments.callback
  ApiStackMarketplaceApipaymentscallbackGETC384FD32:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPaymentCallbackFunction10AC9DAF
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentscallbackFFB3710B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/GET/Resource
  ApiStackMarketplaceApipaymentscallbackPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentscallbackA4B0B14B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentCallbackFunction10AC9DAF
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/payments/callback
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.callback
  ApiStackMarketplaceApipaymentscallbackPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentscallbackEA94D224:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentCallbackFunction10AC9DAF
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/payments/callback
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.callback
  ApiStackMarketplaceApipaymentscallbackPOSTD401E169:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPaymentCallbackFunction10AC9DAF
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentscallbackFFB3710B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/callback/POST/Resource
  ApiStackMarketplaceApipaymentsupgradetoproC8E60749:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: upgrade-to-pro
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/upgrade-to-pro/Resource
  ApiStackMarketplaceApipaymentsupgradetoproOPTIONSCCF110BB:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsupgradetoproC8E60749
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/upgrade-to-pro/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsupgradetoproPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsupgradetopro8A0E5A14:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackUpgradeToProFunction676084F3
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/payments/upgrade-to-pro
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/upgrade-to-pro/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.upgrade-to-pro
  ApiStackMarketplaceApipaymentsupgradetoproPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsupgradetopro0F25F537:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackUpgradeToProFunction676084F3
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/payments/upgrade-to-pro
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/upgrade-to-pro/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.upgrade-to-pro
  ApiStackMarketplaceApipaymentsupgradetoproPOST0863C972:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackUpgradeToProFunction676084F3
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsupgradetoproC8E60749
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/upgrade-to-pro/POST/Resource
  ApiStackMarketplaceApipaymentscashfreewebhook04DC89A4:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: cashfree-webhook
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/cashfree-webhook/Resource
  ApiStackMarketplaceApipaymentscashfreewebhookOPTIONS1E27D934:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentscashfreewebhook04DC89A4
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/cashfree-webhook/OPTIONS/Resource
  ApiStackMarketplaceApipaymentscashfreewebhookPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentscashfreewebhookDCC518B1:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCashfreeWebhookFunction527813C0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/payments/cashfree-webhook
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/cashfree-webhook/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.cashfree-webhook
  ApiStackMarketplaceApipaymentscashfreewebhookPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentscashfreewebhookAACB10D8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCashfreeWebhookFunction527813C0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/payments/cashfree-webhook
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/cashfree-webhook/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.cashfree-webhook
  ApiStackMarketplaceApipaymentscashfreewebhookPOSTB0085D44:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCashfreeWebhookFunction527813C0
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentscashfreewebhook04DC89A4
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/cashfree-webhook/POST/Resource
  ApiStackMarketplaceApipaymentsphonepewebhook3B86E77B:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: phonepe-webhook
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/phonepe-webhook/Resource
  ApiStackMarketplaceApipaymentsphonepewebhookOPTIONS70E0D138:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsphonepewebhook3B86E77B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/phonepe-webhook/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsphonepewebhookPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsphonepewebhook7DB9B997:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPhonePeWebhookFunction9AA53DB2
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/payments/phonepe-webhook
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/phonepe-webhook/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.phonepe-webhook
  ApiStackMarketplaceApipaymentsphonepewebhookPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsphonepewebhook25BAF010:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPhonePeWebhookFunction9AA53DB2
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/payments/phonepe-webhook
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/phonepe-webhook/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.phonepe-webhook
  ApiStackMarketplaceApipaymentsphonepewebhookPOST7D15FC31:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPhonePeWebhookFunction9AA53DB2
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsphonepewebhook3B86E77B
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/phonepe-webhook/POST/Resource
  ApiStackMarketplaceApipaymentsreconciliationEFDDB92D:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipayments5048719D
      PathPart: reconciliation
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/reconciliation/Resource
  ApiStackMarketplaceApipaymentsreconciliationOPTIONS3FF467B8:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsreconciliationEFDDB92D
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/reconciliation/OPTIONS/Resource
  ApiStackMarketplaceApipaymentsreconciliationPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsreconciliation5A2B0075:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentReconciliationFunctionD6252459
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/payments/reconciliation
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/reconciliation/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.reconciliation
  ApiStackMarketplaceApipaymentsreconciliationPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpaymentsreconciliationF3E60F4A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPaymentReconciliationFunctionD6252459
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/payments/reconciliation
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/reconciliation/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..payments.reconciliation
  ApiStackMarketplaceApipaymentsreconciliationPOSTB5DA70EB:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPaymentReconciliationFunctionD6252459
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipaymentsreconciliationEFDDB92D
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/payments/reconciliation/POST/Resource
  ApiStackMarketplaceApipartner81458BD8:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: partner
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/Resource
  ApiStackMarketplaceApipartnerOPTIONSA3A2E924:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipartner81458BD8
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/OPTIONS/Resource
  ApiStackMarketplaceApipartnerapplications14B10C1A:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipartner81458BD8
      PathPart: applications
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/Resource
  ApiStackMarketplaceApipartnerapplicationsOPTIONS7F755EE6:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipartnerapplications14B10C1A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/OPTIONS/Resource
  ApiStackMarketplaceApipartnerapplicationsGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpartnerapplications8F4DE5BF:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/partner/applications
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..partner.applications
  ApiStackMarketplaceApipartnerapplicationsGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpartnerapplicationsB8BBF65B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/partner/applications
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..partner.applications
  ApiStackMarketplaceApipartnerapplicationsGETF215B1C8:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPartnerApplicationFunction4A31143E
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnerapplications14B10C1A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/GET/Resource
  ApiStackMarketplaceApipartnerapplicationsPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpartnerapplications26EA61F9:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/partner/applications
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..partner.applications
  ApiStackMarketplaceApipartnerapplicationsPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpartnerapplicationsD612E741:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/partner/applications
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..partner.applications
  ApiStackMarketplaceApipartnerapplicationsPOST01057702:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPartnerApplicationFunction4A31143E
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnerapplications14B10C1A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/POST/Resource
  ApiStackMarketplaceApipartnerapplicationsapplicationId13E7110A:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipartnerapplications14B10C1A
      PathPart: "{applicationId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/Resource
  ApiStackMarketplaceApipartnerapplicationsapplicationIdOPTIONSDF04F8F5:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipartnerapplicationsapplicationId13E7110A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/OPTIONS/Resource
  ApiStackMarketplaceApipartnerapplicationsapplicationIdGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpartnerapplicationsapplicationId031CF54E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/partner/applications/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..partner.applications.{applicationId}
  ApiStackMarketplaceApipartnerapplicationsapplicationIdGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpartnerapplicationsapplicationId69620A9E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/partner/applications/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..partner.applications.{applicationId}
  ApiStackMarketplaceApipartnerapplicationsapplicationIdGET5BA1F5DD:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPartnerApplicationFunction4A31143E
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnerapplicationsapplicationId13E7110A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/GET/Resource
  ApiStackMarketplaceApipartnerapplicationsapplicationIdPUTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTpartnerapplicationsapplicationIdB0AE0E07:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /PUT/partner/applications/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/PUT/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..partner.applications.{applicationId}
  ApiStackMarketplaceApipartnerapplicationsapplicationIdPUTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTpartnerapplicationsapplicationId30785C83:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackPartnerApplicationFunction4A31143E
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/PUT/partner/applications/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/PUT/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..partner.applications.{applicationId}
  ApiStackMarketplaceApipartnerapplicationsapplicationIdPUTAC8BB3B4:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackPartnerApplicationFunction4A31143E
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnerapplicationsapplicationId13E7110A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/applications/{applicationId}/PUT/Resource
  ApiStackMarketplaceApipartnersolutions1C11A104:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipartner81458BD8
      PathPart: solutions
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/Resource
  ApiStackMarketplaceApipartnersolutionsOPTIONS95C0DD4F:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipartnersolutions1C11A104
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/OPTIONS/Resource
  ApiStackMarketplaceApipartnersolutionsGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpartnersolutions2E51DC95:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/partner/solutions
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..partner.solutions
  ApiStackMarketplaceApipartnersolutionsGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETpartnersolutions3FAA8511:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/partner/solutions
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..partner.solutions
  ApiStackMarketplaceApipartnersolutionsGET9CEF20AB:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackSolutionManagementFunctionEE2EDC63
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnersolutions1C11A104
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/GET/Resource
  ApiStackMarketplaceApipartnersolutionsPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpartnersolutionsC08B7C2F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/partner/solutions
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..partner.solutions
  ApiStackMarketplaceApipartnersolutionsPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTpartnersolutions11C256DB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/partner/solutions
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..partner.solutions
  ApiStackMarketplaceApipartnersolutionsPOST692C3521:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackSolutionManagementFunctionEE2EDC63
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnersolutions1C11A104
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/POST/Resource
  ApiStackMarketplaceApipartnersolutionssolutionIdA38AD083:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApipartnersolutions1C11A104
      PathPart: "{solutionId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/Resource
  ApiStackMarketplaceApipartnersolutionssolutionIdOPTIONSD571205E:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApipartnersolutionssolutionIdA38AD083
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/OPTIONS/Resource
  ApiStackMarketplaceApipartnersolutionssolutionIdPUTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTpartnersolutionssolutionId46F84C55:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /PUT/partner/solutions/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/PUT/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..partner.solutions.{solutionId}
  ApiStackMarketplaceApipartnersolutionssolutionIdPUTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTpartnersolutionssolutionId218A9280:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/PUT/partner/solutions/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/PUT/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..partner.solutions.{solutionId}
  ApiStackMarketplaceApipartnersolutionssolutionIdPUT17C87869:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackSolutionManagementFunctionEE2EDC63
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnersolutionssolutionIdA38AD083
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/PUT/Resource
  ApiStackMarketplaceApipartnersolutionssolutionIdDELETEApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19ADELETEpartnersolutionssolutionId73DF5DA3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /DELETE/partner/solutions/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/DELETE/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.DELETE..partner.solutions.{solutionId}
  ApiStackMarketplaceApipartnersolutionssolutionIdDELETEApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19ADELETEpartnersolutionssolutionIdD348A97F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionManagementFunctionEE2EDC63
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/DELETE/partner/solutions/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/DELETE/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.DELETE..partner.solutions.{solutionId}
  ApiStackMarketplaceApipartnersolutionssolutionIdDELETE00B5139F:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: DELETE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackSolutionManagementFunctionEE2EDC63
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApipartnersolutionssolutionIdA38AD083
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/partner/solutions/{solutionId}/DELETE/Resource
  ApiStackMarketplaceApiadminF8906A41:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: admin
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/Resource
  ApiStackMarketplaceApiadminOPTIONS01D3DE2D:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminF8906A41
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/OPTIONS/Resource
  ApiStackMarketplaceApiadminusers505EA2A1:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminF8906A41
      PathPart: users
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/Resource
  ApiStackMarketplaceApiadminusersOPTIONS8941C8E4:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminusers505EA2A1
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/OPTIONS/Resource
  ApiStackMarketplaceApiadminusersGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETadminusersCA2FE677:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/admin/users
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..admin.users
  ApiStackMarketplaceApiadminusersGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETadminusers8B9DDDDA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/admin/users
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..admin.users
  ApiStackMarketplaceApiadminusersGET6EDC3584:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminusers505EA2A1
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/GET/Resource
  ApiStackMarketplaceApiadminusersuserId52DC57B8:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminusers505EA2A1
      PathPart: "{userId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/{userId}/Resource
  ApiStackMarketplaceApiadminusersuserIdOPTIONS0F784B53:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminusersuserId52DC57B8
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/{userId}/OPTIONS/Resource
  ApiStackMarketplaceApiadminusersuserIdPUTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTadminusersuserIdC8E34147:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /PUT/admin/users/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/{userId}/PUT/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..admin.users.{userId}
  ApiStackMarketplaceApiadminusersuserIdPUTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTadminusersuserIdBC702F91:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/PUT/admin/users/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/{userId}/PUT/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..admin.users.{userId}
  ApiStackMarketplaceApiadminusersuserIdPUT838C7E0B:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminusersuserId52DC57B8
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/users/{userId}/PUT/Resource
  ApiStackMarketplaceApiadminapplicationsE37F3374:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminF8906A41
      PathPart: applications
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/Resource
  ApiStackMarketplaceApiadminapplicationsOPTIONS96E38367:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminapplicationsE37F3374
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/OPTIONS/Resource
  ApiStackMarketplaceApiadminapplicationsGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETadminapplicationsBD10FC25:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/admin/applications
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..admin.applications
  ApiStackMarketplaceApiadminapplicationsGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETadminapplications2642B06B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/admin/applications
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..admin.applications
  ApiStackMarketplaceApiadminapplicationsGETCFB502A1:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminapplicationsE37F3374
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/GET/Resource
  ApiStackMarketplaceApiadminapplicationsapplicationIdEBEA0D14:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminapplicationsE37F3374
      PathPart: "{applicationId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/{applicationId}/Resource
  ApiStackMarketplaceApiadminapplicationsapplicationIdOPTIONS2FC79DF8:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminapplicationsapplicationIdEBEA0D14
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/{applicationId}/OPTIONS/Resource
  ApiStackMarketplaceApiadminapplicationsapplicationIdPUTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTadminapplicationsapplicationIdEF08AA50:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /PUT/admin/applications/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/{applicationId}/PUT/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..admin.applications.{applicationId}
  ApiStackMarketplaceApiadminapplicationsapplicationIdPUTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTadminapplicationsapplicationId9443A6F0:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/PUT/admin/applications/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/{applicationId}/PUT/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..admin.applications.{applicationId}
  ApiStackMarketplaceApiadminapplicationsapplicationIdPUT741B27C4:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminapplicationsapplicationIdEBEA0D14
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/applications/{applicationId}/PUT/Resource
  ApiStackMarketplaceApiadminsolutions7C9C35FD:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminF8906A41
      PathPart: solutions
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/Resource
  ApiStackMarketplaceApiadminsolutionsOPTIONS4F6B795A:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminsolutions7C9C35FD
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/OPTIONS/Resource
  ApiStackMarketplaceApiadminsolutionsGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETadminsolutions1695ECFE:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/admin/solutions
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..admin.solutions
  ApiStackMarketplaceApiadminsolutionsGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETadminsolutions46B0BF38:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/admin/solutions
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..admin.solutions
  ApiStackMarketplaceApiadminsolutionsGET846BE0B4:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminsolutions7C9C35FD
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/GET/Resource
  ApiStackMarketplaceApiadminsolutionssolutionId6A9CF698:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminsolutions7C9C35FD
      PathPart: "{solutionId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/{solutionId}/Resource
  ApiStackMarketplaceApiadminsolutionssolutionIdOPTIONS5A89CC68:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminsolutionssolutionId6A9CF698
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/{solutionId}/OPTIONS/Resource
  ApiStackMarketplaceApiadminsolutionssolutionIdPUTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTadminsolutionssolutionIdD5CBA196:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /PUT/admin/solutions/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/{solutionId}/PUT/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..admin.solutions.{solutionId}
  ApiStackMarketplaceApiadminsolutionssolutionIdPUTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APUTadminsolutionssolutionId71CD25B6:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/PUT/admin/solutions/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/{solutionId}/PUT/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.PUT..admin.solutions.{solutionId}
  ApiStackMarketplaceApiadminsolutionssolutionIdPUT4878E3D7:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminsolutionssolutionId6A9CF698
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/solutions/{solutionId}/PUT/Resource
  ApiStackMarketplaceApiadminmigrateusercountries80228FD1:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiadminF8906A41
      PathPart: migrate-user-countries
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/migrate-user-countries/Resource
  ApiStackMarketplaceApiadminmigrateusercountriesOPTIONS3540E9E2:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiadminmigrateusercountries80228FD1
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/migrate-user-countries/OPTIONS/Resource
  ApiStackMarketplaceApiadminmigrateusercountriesPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTadminmigrateusercountries76E0FF45:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/admin/migrate-user-countries
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/migrate-user-countries/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..admin.migrate-user-countries
  ApiStackMarketplaceApiadminmigrateusercountriesPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTadminmigrateusercountriesBD686F6B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackAdminFunction0239A547
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/admin/migrate-user-countries
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/migrate-user-countries/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..admin.migrate-user-countries
  ApiStackMarketplaceApiadminmigrateusercountriesPOST5FED484D:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackAdminFunction0239A547
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiadminmigrateusercountries80228FD1
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/admin/migrate-user-countries/POST/Resource
  ApiStackMarketplaceApiapi958C78BD:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - ApiStackMarketplaceApiD72EC836
          - RootResourceId
      PathPart: api
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/Resource
  ApiStackMarketplaceApiapiOPTIONS7A917834:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/OPTIONS/Resource
  ApiStackMarketplaceApiapigeneratetoken81444AC9:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: generate-token
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-token/Resource
  ApiStackMarketplaceApiapigeneratetokenOPTIONSBA1D6502:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapigeneratetoken81444AC9
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-token/OPTIONS/Resource
  ApiStackMarketplaceApiapigeneratetokenPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapigeneratetokenF28E2C87:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackTokenManagerFunction1E96B2A8
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/api/generate-token
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-token/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.generate-token
  ApiStackMarketplaceApiapigeneratetokenPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapigeneratetokenA81DEBC1:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackTokenManagerFunction1E96B2A8
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/api/generate-token
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-token/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.generate-token
  ApiStackMarketplaceApiapigeneratetokenPOST8AF808DE:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackTokenManagerFunction1E96B2A8
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapigeneratetoken81444AC9
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-token/POST/Resource
  ApiStackMarketplaceApiapivalidatesolutiontoken77CB8F17:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: validate-solution-token
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/validate-solution-token/Resource
  ApiStackMarketplaceApiapivalidatesolutiontokenOPTIONSF3FF84CD:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapivalidatesolutiontoken77CB8F17
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/validate-solution-token/OPTIONS/Resource
  ApiStackMarketplaceApiapivalidatesolutiontokenPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapivalidatesolutiontoken7E3346CD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionTokenValidatorFunction20C6197A
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/api/validate-solution-token
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/validate-solution-token/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.validate-solution-token
  ApiStackMarketplaceApiapivalidatesolutiontokenPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapivalidatesolutiontoken2465DF7A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackSolutionTokenValidatorFunction20C6197A
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/api/validate-solution-token
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/validate-solution-token/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.validate-solution-token
  ApiStackMarketplaceApiapivalidatesolutiontokenPOST6C7D8F69:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackSolutionTokenValidatorFunction20C6197A
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapivalidatesolutiontoken77CB8F17
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/validate-solution-token/POST/Resource
  ApiStackMarketplaceApiapigeneratesolutiontokenAC1CB53C:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: generate-solution-token
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-solution-token/Resource
  ApiStackMarketplaceApiapigeneratesolutiontokenOPTIONS4AF6A57E:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapigeneratesolutiontokenAC1CB53C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-solution-token/OPTIONS/Resource
  ApiStackMarketplaceApiapigeneratesolutiontokenPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapigeneratesolutiontokenD2900D02:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackGenerateSolutionTokenFunction15107C38
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/api/generate-solution-token
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-solution-token/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.generate-solution-token
  ApiStackMarketplaceApiapigeneratesolutiontokenPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapigeneratesolutiontoken42B60BE4:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackGenerateSolutionTokenFunction15107C38
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/api/generate-solution-token
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-solution-token/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.generate-solution-token
  ApiStackMarketplaceApiapigeneratesolutiontokenPOST30EDCC83:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackGenerateSolutionTokenFunction15107C38
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapigeneratesolutiontokenAC1CB53C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/generate-solution-token/POST/Resource
  ApiStackMarketplaceApiapicheckuserlimitsFA226AD5:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: check-user-limits
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/check-user-limits/Resource
  ApiStackMarketplaceApiapicheckuserlimitsOPTIONS6E6ADA55:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapicheckuserlimitsFA226AD5
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/check-user-limits/OPTIONS/Resource
  ApiStackMarketplaceApiapicheckuserlimitsPOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapicheckuserlimits1313603C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCheckUserLimitsFunction193DFEEE
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/api/check-user-limits
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/check-user-limits/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.check-user-limits
  ApiStackMarketplaceApiapicheckuserlimitsPOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapicheckuserlimits2A7CC4F5:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackCheckUserLimitsFunction193DFEEE
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/api/check-user-limits
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/check-user-limits/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.check-user-limits
  ApiStackMarketplaceApiapicheckuserlimitsPOSTF097D723:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackCheckUserLimitsFunction193DFEEE
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapicheckuserlimitsFA226AD5
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/check-user-limits/POST/Resource
  ApiStackMarketplaceApiapiincrementusageEC8EF305:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: increment-usage
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/increment-usage/Resource
  ApiStackMarketplaceApiapiincrementusageOPTIONS7862A2E4:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapiincrementusageEC8EF305
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/increment-usage/OPTIONS/Resource
  ApiStackMarketplaceApiapiincrementusagePOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapiincrementusageB51E06D7:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackIncrementUsageFunction10626010
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/api/increment-usage
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/increment-usage/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.increment-usage
  ApiStackMarketplaceApiapiincrementusagePOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapiincrementusage3E8266F6:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackIncrementUsageFunction10626010
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/api/increment-usage
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/increment-usage/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.increment-usage
  ApiStackMarketplaceApiapiincrementusagePOST20240CC5:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackIncrementUsageFunction10626010
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapiincrementusageEC8EF305
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/increment-usage/POST/Resource
  ApiStackMarketplaceApiapitrackusage20197B27:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: track-usage
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/track-usage/Resource
  ApiStackMarketplaceApiapitrackusageOPTIONS1A0C387B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapitrackusage20197B27
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/track-usage/OPTIONS/Resource
  ApiStackMarketplaceApiapitrackusagePOSTApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapitrackusage9CC42255:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackIncrementUsageFunction10626010
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /POST/api/track-usage
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/track-usage/POST/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.track-usage
  ApiStackMarketplaceApiapitrackusagePOSTApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19APOSTapitrackusage6B4EED8D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackIncrementUsageFunction10626010
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/POST/api/track-usage
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/track-usage/POST/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.POST..api.track-usage
  ApiStackMarketplaceApiapitrackusagePOST7A8BD2A4:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackIncrementUsageFunction10626010
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapitrackusage20197B27
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/track-usage/POST/Resource
  ApiStackMarketplaceApiapiusertokensFBEAE372:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: user-tokens
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/Resource
  ApiStackMarketplaceApiapiusertokensOPTIONS6F71F32B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapiusertokensFBEAE372
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/OPTIONS/Resource
  ApiStackMarketplaceApiapiusertokensuserId7E25C41A:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapiusertokensFBEAE372
      PathPart: "{userId}"
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/{userId}/Resource
  ApiStackMarketplaceApiapiusertokensuserIdOPTIONS1C60233B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapiusertokensuserId7E25C41A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/{userId}/OPTIONS/Resource
  ApiStackMarketplaceApiapiusertokensuserIdGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapiusertokensuserIdC55EEC3B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackTokenManagerFunction1E96B2A8
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/api/user-tokens/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/{userId}/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.user-tokens.{userId}
  ApiStackMarketplaceApiapiusertokensuserIdGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapiusertokensuserId57E85146:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackTokenManagerFunction1E96B2A8
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/api/user-tokens/*
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/{userId}/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.user-tokens.{userId}
  ApiStackMarketplaceApiapiusertokensuserIdGET2BF0C533:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackTokenManagerFunction1E96B2A8
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapiusertokensuserId7E25C41A
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/user-tokens/{userId}/GET/Resource
  ApiStackMarketplaceApiapianalytics9E3B1FAC:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: analytics
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/Resource
  ApiStackMarketplaceApiapianalyticsOPTIONS2B12B66C:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalytics9E3B1FAC
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/OPTIONS/Resource
  ApiStackMarketplaceApiapianalyticsbusinessmetrics06A1240C:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapianalytics9E3B1FAC
      PathPart: business-metrics
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/business-metrics/Resource
  ApiStackMarketplaceApiapianalyticsbusinessmetricsOPTIONS106C4631:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsbusinessmetrics06A1240C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/business-metrics/OPTIONS/Resource
  ApiStackMarketplaceApiapianalyticsbusinessmetricsGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsbusinessmetrics69AF68AE:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackBusinessMetricsFunction6A5ACF87
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/api/analytics/business-metrics
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/business-metrics/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.business-metrics
  ApiStackMarketplaceApiapianalyticsbusinessmetricsGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsbusinessmetrics2EDA185B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackBusinessMetricsFunction6A5ACF87
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/api/analytics/business-metrics
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/business-metrics/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.business-metrics
  ApiStackMarketplaceApiapianalyticsbusinessmetricsGET9D2F6636:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackBusinessMetricsFunction6A5ACF87
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsbusinessmetrics06A1240C
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/business-metrics/GET/Resource
  ApiStackMarketplaceApiapianalyticsgeographic5B944493:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapianalytics9E3B1FAC
      PathPart: geographic
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/geographic/Resource
  ApiStackMarketplaceApiapianalyticsgeographicOPTIONS99A3539D:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsgeographic5B944493
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/geographic/OPTIONS/Resource
  ApiStackMarketplaceApiapianalyticsgeographicGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsgeographic4FC5E267:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackGeographicAnalyticsFunction6C35AAA5
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/api/analytics/geographic
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/geographic/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.geographic
  ApiStackMarketplaceApiapianalyticsgeographicGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsgeographicDBF0EBDA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackGeographicAnalyticsFunction6C35AAA5
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/api/analytics/geographic
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/geographic/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.geographic
  ApiStackMarketplaceApiapianalyticsgeographicGETD12F1C95:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackGeographicAnalyticsFunction6C35AAA5
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsgeographic5B944493
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/geographic/GET/Resource
  ApiStackMarketplaceApiapianalyticsusage0DA5B3C0:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapianalytics9E3B1FAC
      PathPart: usage
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/usage/Resource
  ApiStackMarketplaceApiapianalyticsusageOPTIONS1437F591:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsusage0DA5B3C0
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/usage/OPTIONS/Resource
  ApiStackMarketplaceApiapianalyticsusageGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsusage50C349A3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackUsageAnalyticsFunction6E97A510
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/api/analytics/usage
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/usage/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.usage
  ApiStackMarketplaceApiapianalyticsusageGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsusage69D6C6DF:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackUsageAnalyticsFunction6E97A510
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/api/analytics/usage
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/usage/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.usage
  ApiStackMarketplaceApiapianalyticsusageGETC51BEFEB:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackUsageAnalyticsFunction6E97A510
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsusage0DA5B3C0
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/usage/GET/Resource
  ApiStackMarketplaceApiapianalyticsmsmekpisDD870CFD:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapianalytics9E3B1FAC
      PathPart: msme-kpis
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/msme-kpis/Resource
  ApiStackMarketplaceApiapianalyticsmsmekpisOPTIONSCFCEF6F7:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsmsmekpisDD870CFD
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/msme-kpis/OPTIONS/Resource
  ApiStackMarketplaceApiapianalyticsmsmekpisGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsmsmekpisA4ED6347:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackMsmeKpiFunction552DC9C4
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/api/analytics/msme-kpis
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/msme-kpis/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.msme-kpis
  ApiStackMarketplaceApiapianalyticsmsmekpisGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapianalyticsmsmekpis2410744F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackMsmeKpiFunction552DC9C4
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/api/analytics/msme-kpis
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/msme-kpis/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.analytics.msme-kpis
  ApiStackMarketplaceApiapianalyticsmsmekpisGET2E448329:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackMsmeKpiFunction552DC9C4
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapianalyticsmsmekpisDD870CFD
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/analytics/msme-kpis/GET/Resource
  ApiStackMarketplaceApiapifounder8AD2EBF0:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapi958C78BD
      PathPart: founder
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/Resource
  ApiStackMarketplaceApiapifounderOPTIONS804F98BC:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapifounder8AD2EBF0
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/OPTIONS/Resource
  ApiStackMarketplaceApiapifoundermetrics4D3DBB75:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: ApiStackMarketplaceApiapifounder8AD2EBF0
      PathPart: metrics
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/metrics/Resource
  ApiStackMarketplaceApiapifoundermetricsOPTIONS05A0791B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
      ResourceId:
        Ref: ApiStackMarketplaceApiapifoundermetrics4D3DBB75
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/metrics/OPTIONS/Resource
  ApiStackMarketplaceApiapifoundermetricsGETApiPermissionMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapifoundermetrics58154B01:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackBusinessMetricsFunction6A5ACF87
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /
            - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
            - /GET/api/founder/metrics
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/metrics/GET/ApiPermission.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.founder.metrics
  ApiStackMarketplaceApiapifoundermetricsGETApiPermissionTestMarketplaceStackCleanApiStackMarketplaceApi863EC19AGETapifoundermetricsB5736775:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - DataStackBusinessMetricsFunction6A5ACF87
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:us-west-1:637423202175:"
            - Ref: ApiStackMarketplaceApiD72EC836
            - /test-invoke-stage/GET/api/founder/metrics
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/metrics/GET/ApiPermission.Test.MarketplaceStackCleanApiStackMarketplaceApi863EC19A.GET..api.founder.metrics
  ApiStackMarketplaceApiapifoundermetricsGET90C92C67:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: ApiStackCognitoAuthorizer86C8FE05
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - DataStackBusinessMetricsFunction6A5ACF87
                  - Arn
              - /invocations
      ResourceId:
        Ref: ApiStackMarketplaceApiapifoundermetrics4D3DBB75
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Default/api/founder/metrics/GET/Resource
  ApiStackMarketplaceApiUnauthorized7C9D6A06:
    Type: AWS::ApiGateway::GatewayResponse
    Properties:
      ResponseParameters:
        gatewayresponse.header.Access-Control-Allow-Origin: "'*'"
        gatewayresponse.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
        gatewayresponse.header.Access-Control-Allow-Methods: "'GET,POST,PUT,DELETE,OPTIONS'"
      ResponseType: UNAUTHORIZED
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/MarketplaceApi/Unauthorized/Resource
  ApiStackCognitoAuthorizer86C8FE05:
    Type: AWS::ApiGateway::Authorizer
    Properties:
      IdentitySource: method.request.header.Authorization
      Name: MarketplaceStackCleanApiStackCognitoAuthorizer017BCFBB
      ProviderARNs:
        - Fn::GetAtt:
            - DataStackUserPool5C318670
            - Arn
      RestApiId:
        Ref: ApiStackMarketplaceApiD72EC836
      Type: COGNITO_USER_POOLS
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/ApiStack/CognitoAuthorizer/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/3WRTW/bMAyGf0vvitamwIAc0xYtdhgaOOs5YGTWZWOLhkg38AT/90KS8wEMO/F5yVcgRS7t8m5lb2/gKAtXHxYt7W3cKriDgaPsYj166Lje2/gH9i2ax3efYTJyb+PD4A6oKTlTCQ8gOBnHjSdlG98Ew4a5Tb4zn+CxJfR6XZozJ/mrRq+k4ybwF9UYXpibMsj/HOenT9wB+WvrJXN+xNxORtAFVOnAQ4PBxm3WyVdoMgSdjRWXzjluuCU3JlloMi10+xpsfB68U+Lc55o3GDoSIfZpfTsQQRW7TsFATw0oHmG0sULRdU+50wXXzvHg1Txh3/LYzVu7UluFJo9XoELhIThM1zC/UT+4TsWZTtW5SeGXMkGF0rOXXPsnVa56WqisB/3gQH8x5BnPapouLfIP01Dkm+R6HbQfdDKea7Sf8uNreWvvVvbnzacQLcLglTq0VYnffSmKFKICAAA=
    Metadata:
      aws:cdk:path: MarketplaceStack-Clean/CDKMetadata/Default
Outputs:
  AuthStackCognitoHostedUIUrlB529D19F:
    Description: Cognito Hosted UI URL for testing
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: AuthStackMarketplaceUserPoolDomain24056E9D
          - .auth.
          - Ref: AWS::Region
          - .amazoncognito.com/login?client_id=
          - Ref: AuthStackMarketplaceUserPoolClientBBC0EAC8
          - "&response_type=code&scope=email+openid+profile&redirect_uri=http://localhost:3000/auth/callback"
  ApiStackMarketplaceApiEndpoint8A5760CA:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: ApiStackMarketplaceApiD72EC836
          - .execute-api.us-west-1.
          - Ref: AWS::URLSuffix
          - /
          - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
          - /
  UserPoolId:
    Description: Cognito User Pool ID
    Value:
      Ref: DataStackUserPool5C318670
  UserPoolClientId:
    Description: Cognito User Pool Client ID
    Value:
      Ref: DataStackUserPoolClient098B0ABE
  ApiGatewayUrl:
    Description: API Gateway URL
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: ApiStackMarketplaceApiD72EC836
          - .execute-api.us-west-1.
          - Ref: AWS::URLSuffix
          - /
          - Ref: ApiStackMarketplaceApiDeploymentStageprod06C16C76
          - /
  AssetsBucketName:
    Description: S3 Assets Bucket Name
    Value:
      Ref: DataStackAssetsBucketBB720BB4
  InvoiceBucketName:
    Description: S3 Invoice Bucket Name
    Value:
      Ref: DataStackInvoiceBucket65FDB85F
  UserTableName:
    Description: DynamoDB User Table Name
    Value:
      Ref: DataStackUserTableDAF10CB8
  EntitlementTableName:
    Description: DynamoDB User Solution Entitlements Table Name
    Value:
      Ref: DataStackUserSolutionEntitlementsTableA6D19624
  SessionTableName:
    Description: DynamoDB Session Table Name
    Value:
      Ref: DataStackSessionTable8346BE43
  CompanySettingsTableName:
    Description: DynamoDB Company Settings Table Name (GST)
    Value:
      Ref: DataStackCompanySettingsTable691FA35F
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]

41 feature flags are not configured. Run 'cdk flags --unstable=flags' to learn more.

NOTICES         (What's this? https://github.com/aws/aws-cdk/wiki/CLI-Notices)

34892	CDK CLI will collect telemetry data on command usage starting at version 2.1100.0 (unless opted out)

	Overview: We do not collect customer content and we anonymize the
	          telemetry we do collect. See the attached issue for more
	          information on what data is collected, why, and how to
	          opt-out. Telemetry will NOT be collected for any CDK CLI
	          version prior to version 2.1100.0 - regardless of
	          opt-in/out. You can also preview the telemetry we will start
	          collecting by logging it to a local file, by adding
	          `--unstable=telemetry --telemetry-file=my/local/file` to any
	          `cdk` command.

	Affected versions: cli: ^2.0.0

	More information at: https://github.com/aws/aws-cdk/issues/34892


If you dont want to see a notice anymore, use "cdk acknowledge <id>". For example, "cdk acknowledge 34892".
